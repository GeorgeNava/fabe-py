{% extends "basetemplate.html" %}
{% block title   %}<title>Preview post</title>{% endblock %}
{% block scripts %}
<script>
function publish(){ document.forms[0].submit(); }
function  cancel(){ document.forms[0].submit(false); window.location.href="/"; }
</script>
{% endblock %}
{% block content %}
<div class="post">
  <h1>{{post.title}}</h1>
  <div>{{post.content}}</div>
  <form method="post" action="publish">
    <input id="xtitle"   name="xtitle"   type="hidden" value="{{post.title|escape}}">
    <input id="xcontent" name="xcontent" type="hidden" value="{{post.content|escape}}">
    <br><br>
    <button onclick="publish()">Publish article</button> 
    <button onclick="cancel()">Cancel edition</button> 
  </form>
</div><!-- post -->
{% endblock %}

{% block sidebar %}
  <div class="panel"> 
    <h1>Actions</h1> 
    <ul> 
      <li><a href="javascript:publish()">Publish article</a></li> 
      <li><a href="javascript:cancel()" >Cancel edition </a></li> 
    </ul> 
  </div> 
{% endblock %}

 
